<!DOCTYPE html>
<!--STATUS OK-->
<html>


<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="referrer" content="always" />
<meta name="description" content="URLDownloadToFile的词条图片">
<title>URLDownloadToFile图片_百度百科</title>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link rel="icon" sizes="any" mask href="//www.baidu.com/img/baidu.svg">

<meta name="keywords" content="URLDownloadToFile URLDownloadToFile_图片 百度百科 百科 baike 词条图片">
<meta name="image" content="https://bkssl.bdimg.com/cms/static/baike.png">
<meta itemprop="image" content="https://bkssl.bdimg.com/cms/static/baike.png">

<!--[if lte IE 9]>
<script>
    (function() {
      var e = "abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(","),
        i = e.length;
      while (i--) {
        document.createElement(e[i]);
      }

      window.console = window.console || {};
      var f = ['log', 'info', 'warning', 'error', 'clear'];
      var l = f.length;
      while(l--) {
        window.console[f[l]] = function () {};
      }
    })();
  </script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="https://bkssl.bdimg.com/static/wiki-common/pkg/wiki-common-base_09f2cde.css"/><link rel="stylesheet" type="text/css" href="https://bkssl.bdimg.com/static/wiki-common/widget/component/userbar-n/userbar-n_2890903.css"/><link rel="stylesheet" type="text/css" href="https://bkssl.bdimg.com/static/wiki-common/widget/lib/larkplayer/larkplayer_ee067eb.css"/><link rel="stylesheet" type="text/css" href="https://bkssl.bdimg.com/static/wiki-common/widget/lib/webuploader/webuploader_08d9db4.css"/><link rel="stylesheet" type="text/css" href="https://bkssl.bdimg.com/static/wiki-album/pkg/wiki-album-picture_bca8f93.css"/>    
</head>
<body class="w-small">


<script>
        var imageResize = function(event) {
            var picture = document.getElementById('imgPicture');
            var parent = document.getElementById('picture');
            var pHeight = document.body.clientHeight - 102;
            parent.style.height = pHeight + 'px';
            var rWidth = picture.width,
                rHeight = picture.height,
                pWidth = parent.offsetWidth;

                var rateW = rWidth / pWidth,
                    rateH = rHeight / pHeight;
                var w = rWidth,
                    h = rHeight;

                if (rateW > 1 || rateH > 1) {
                    if (rateW > rateH) {
                        w = pWidth;
                        h = rHeight / rateW;
                    } else {
                        h = pHeight;
                        w = rWidth / rateH;
                    }
                }
                        
            picture.style.width = w + 'px';
            picture.style.height = h + 'px';
            picture.style.marginTop = (pHeight - h) / 2 + 'px';
            picture.style.visibility = 'visible';
        };

        // 以下代码的功能是：在页面加载前，判断url中的对应值是否等于hash值，如不等，则改变url重新加载
        // 添加代码原因：
        //     1) 之前的代码逻辑是：url会具体指定到某张图片，前端在｀切换相册｀时，使用ajax获取数据，并不断更新hash值，但当用户
        //        ｀刷新页面｀或｀点击返回词条按钮｀然后再｀点击浏览器后退键｀时，uri中的url和hash值不同，源代码会出现bug,导致
        //        '上／下一图册'，'向上／下箭头'点击无效（具体原因请view代码）
        //     2) hash值的使用无意义，页面刷新后并不能让用户回到之前访问的图片/图册
        // 故作此修改。
        // 个人认为比较合适的解决方法是：
        //     1）图册页的图片数据是后端同步打过来的。在词条页面中，图册url不要具体到某张图片，到图册即可，由前端使用hash值加上
        //        smarty的方法来控制具体到哪张图片，在切换图册时，刷新浏览器，改变url。
        //     2) 图册页不需要同步的图片数据，全部由前端根据uri利用ajax获取。
        // COMMENT BY YUHUI


        //在此处不知道怎么使用require，所以自己写了一个将hash值转换为对象的函数
        //另外，在 wiki-common:widget/util/url.js 下有url相关函数
        //eg: hashStr = '#aid=19973219&pic=f7' => hashObj = {aid: '19973219', pic: 'f7'};
        //COMMENT BY YUHUI
        function makeHashIntoObj (hashStr) {
            if (hashStr[0] === '#') {
                hashStr = hashStr.substr(1);
            }
            var hashObj = {};
            var hashArr = hashStr.split('&');
            var tempArr = [];
            for (var i = 0; i < hashArr.length; i++) {
                tempArr = hashArr[i].split('=');
                hashObj[tempArr[0]] = tempArr[1];
            }
            return hashObj;
        }
        // locationArr = ['', 'pic', $lemmaTitle, $newLemmaId, albumId, picSign];
        var locationArr = window.location.pathname.split('/');
        var hashObj = makeHashIntoObj(window.location.hash);
        var picSign = locationArr[locationArr.length - 1];
        var albumId = locationArr[locationArr.length - 2];
        var picSignInHash = hashObj['pic'];
        var albumIdInHash = hashObj['aid'];
        if (!!picSignInHash && !!albumIdInHash && !!picSign && !!albumId) {
            if (picSign != picSignInHash || albumId != albumIdInHash) {
                locationArr[locationArr.length - 1] = picSignInHash;
                locationArr[locationArr.length - 2] = albumIdInHash;
                window.location.pathname = locationArr.join('/');
            }
        }
    </script>


<div id="picture-dialog" class="picture-dialog">
<div class="header">
<a class="logo" target="_blank" href="/">
<span class="cmn-baike-logo white"><em class="cmn-icon cmn-icons cmn-icons_logo-bai"></em><em class="cmn-icon cmn-icons cmn-icons_logo-du"></em><em class="cmn-icon cmn-icons cmn-icons_logo-baike"></em></span>
</a>
<div class="breadcrumb">
<a target="_blank" class="album-name" href="/pic/URLDownloadToFile/2700084">URLDownloadToFile图册</a>&nbsp;>&nbsp;<span class="album-desc">词条图片</span>
</div>
<div style="clear: both"></div>
</div>
<div class="thumbnail" style="z-index: 2; width: 80px; top: 50%; margin-top: -204px; right: 12.5%; margin-right: -80px">
<div class="pic-slider">
<div class="prev-pic"></div>
<div class="pic-scroller">
<div class="pic-list">

<a class="pic-item selected" title="" data-index="0" data-sign="738b4710b912c8fc43f3fe10f0039245d78821ee" href="/pic/URLDownloadToFile/2700084/0/738b4710b912c8fc43f3fe10f0039245d78821ee">
<img src="https://bkimg.cdn.bcebos.com/pic/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image/resize,m_lfit,w_150,limit_1" alt="" style="display: block;width:120px;height:80px;top:0px;left:-20px;">
<div class="seleced-cover"></div>
</a>
</div>
</div>
<div class="next-pic"></div>
</div>
</div>
<div class="picture-wrap">

<div id="picture" class="picture" style="left:14.5%; top:62px; width:71%; height:600px">
<img id="imgPicture" src="https://bkimg.cdn.bcebos.com/pic/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2U4MA==,xp_5,yp_5" onload="imageResize()" style="visibility:hidden"/>
<div id="picture-msg-tip" class="msg-tip yahei" style="display:none">
<a class="close"></a>
<span class="msg-tip-text"></span>
</div>
</div>
</div>
<div class="picture-footer yahei">
<div class="footer-wrap" style="width:1000px; left:50%; margin-left:-500px">
<div class="description">
<span class="number">
<span style="color:#b9bbbf">1</span>/<span style="color:#427cb8">1</span>
</span>
<span class="text"></span>
</div>
<a class="tool-button doubt j-doubt-link" target="_blank" href="/wikiui/doubt?lemmaId=2700084&picUrl=https://bkimg.cdn.bcebos.com/pic/738b4710b912c8fc43f3fe10f0039245d78821ee%3Fx-bce-process%3Dimage/watermark%2Cg_7%2Cimage_d2F0ZXIvYmFpa2U4MA%3D%3D%2Cxp_5%2Cyp_5" nslog-type="10300106">质疑</a>
<a class="tool-button info">信息</a>

<a class="tool-button origin" target="_blanck" href="https://bkimg.cdn.bcebos.com/pic/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2U4MA==,xp_5,yp_5">原图</a>
<div class="info-panel">
<div class="image-size">
<span>图片尺寸</span>
<span class="size">600X400</span>
</div>
<div class="album-info">
<span class="from-text">来自</span>
<span class="album-text">
<a class="lemma-name" target="_blank" href="/item/URLDownloadToFile/2700084">
URLDownloadToFile词条</a>-<a class="album-name" target="_blank" href="/pic/URLDownloadToFile/2700084">词条图片</a>
</span>
</div>
</div>
</div>
</div>
</div>


    //科学百科任务的词条所有提交,需要自动审核对其做忽略处理. 所以删除图片/绿色通道等规则也不适用于这类词条, 所以把它置顶处理
    <script>
      window['__abbaidu_2020_subidgetf'] = function () {
          var subid = 01000000;
          return subid;
      };
    </script>
<script async src="https://dlswbr.baidu.com/heicha/mw/abclite-2020-s.js"></script>

</body><script type="text/javascript" src="https://bkssl.bdimg.com/static/wiki-common/js/mod_4302fe0.js"></script>
<script type="text/javascript" src="https://bkssl.bdimg.com/static/wiki-common/pkg/wiki-common-base_3ab2db8.js"></script>
<script type="text/javascript" src="https://bkssl.bdimg.com/static/wiki-album/pkg/wiki-album-picture_458b528.js"></script>
<script type="text/javascript">!function(){        var $ = require('wiki-common:widget/lib/jquery/jquery.js'),
            urlExt = require('wiki-common:widget/util/url.js'),
            nslog = require("wiki-common:widget/component/nslog/nslog.js"),
            PictureDialog = require('wiki-album:widget/picture/pictureDialog/pictureDialog.js');
        
        // 百科质疑，增加质疑入口--当前页面链接
        // var doubtLink = $('.j-doubt-link').attr('href') + '&albumUrl=' + window.location.href;
        // $('.j-doubt-link').attr('href', doubtLink);


        var hash = window.location.hash.substr(1);
        var albumId = urlExt.getQuery('aid', hash);
        var pictureSign = urlExt.getQuery('pic', hash);
        var useHash = !!albumId && albumId != '' && !!pictureSign && pictureSign != '';
        albumId = useHash ? albumId : '0';
        pictureSign = useHash ? pictureSign : '738b4710b912c8fc43f3fe10f0039245d78821ee';

        var pageAlbumId = "0";
        var pagePicSign = "738b4710b912c8fc43f3fe10f0039245d78821ee";

        var useHash = (!!albumId && albumId != "") && (!!pictureSign && pictureSign != "" && pictureSign != pagePicSign);
        if (useHash) {
                            window.location.href = '/pic/URLDownloadToFile/2700084/' +albumId+ '/' + pictureSign;
                    }

        PictureDialog.getInstance().show({
            albums: [{"desc":"\u8bcd\u6761\u56fe\u7247","coverpic":"738b4710b912c8fc43f3fe10f0039245d78821ee","coverwidth":600,"coverheight":400,"pictures":[{"desc":"","width":600,"height":400,"owner":"\u5c0f\u7231_\u56db\u5b63\u79c1\u8bed","src":"738b4710b912c8fc43f3fe10f0039245d78821ee","picId":55519821184,"type":{"view":220,"albumview":120,"oriWithWater":601,"litterImage":200,"authModule":150,"view_new":209,"view_card":268},"sizes":{"220":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_220,h_220,limit_1","width":220,"height":146,"size":220},"120":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,h_120,limit_1","width":180,"height":120,"size":120},"601":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/watermark,g_7,image_d2F0ZXIvYmFpa2U4MA==,xp_5,yp_5","width":600,"height":400,"size":601},"200":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_200,h_200,limit_1","width":200,"height":133,"size":200},"150":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_150,limit_1","width":150,"height":100,"size":150},"209":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_209,limit_1","width":209,"height":139,"size":209},"268":{"url":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_268,limit_1","width":268,"height":178,"size":268}},"aid":0,"albumDesc":"\u8bcd\u6761\u56fe\u7247","index":1}],"coverurl":"https:\/\/bkimg.cdn.bcebos.com\/pic\/738b4710b912c8fc43f3fe10f0039245d78821ee?x-bce-process=image\/resize,m_lfit,w_290,h_290,limit_1","total":1,"sign":0}],
            lemmaId: '1606690',
            subLemmaId: '1606690',
            lemmaTitle: 'URLDownloadToFile',
            newLemmaId: '2700084',
            versionId: '',
            commitId: '',
            albumId: albumId,
            picPageType: '0',
            pictureSign: pictureSign,
            lemmaName: 'URLDownloadToFile',
            crumbClick: function() {
                nslog(10000201);
            },
            pictureChanged: function(albumId, picSign) {
                window.location.hash = 'aid=' + albumId + '&pic=' + picSign;
                // 百科质疑入口变化逻辑
                var doubtLink = '/wikiui/doubt?lemmaId='+ '2700084'
                    + '&fr=albumPicture'
                    + '&picUrl=' + $('.picture-footer .origin').attr('href')
                    + '&albumUrl=' + window.location.origin + window.location.pathname;

                $('.j-doubt-link').attr('href', doubtLink);
            }
        });    }();
!function(){      require('wiki-common:widget/component/psLink/psLink');
    }();</script></html>
